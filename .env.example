# Core Security Settings
KOPIA_REPO_PASSWORD=              # Repository password (min 16 chars)
KOPIA_SERVER_USERNAME=            # Server username (min 8 chars)
KOPIA_SERVER_PASSWORD=            # Server password (min 16 chars)
KOPIA_SECURE_MODE=false          # Enable TLS (true/false)
KOPIA_TLS_CERT_PATH=             # Path to TLS cert (required if SECURE_MODE=true)

# Network Configuration
KOPIA_SERVER_IP=                 # Server IP address
KOPIA_SERVER_PORT=51515          # Server port (1-65535)
KOPIA_SERVER_ALLOWED_IPS=        # Allowed IPs (CIDR format, comma-separated)

# Directory Paths
KOPIA_BASE_DIR=/var/lib/kopia    # Base directory for Kopia data
KOPIA_REPO_PATH=/var/lib/kopia/repository  # Repository location
KOPIA_CONFIG_DIR=~/.config/kopia # Client configuration directory
KOPIA_CACHE_DIR=~/.cache/kopia  # Cache directory
KOPIA_CLIENT_HOSTNAME=           # Override client hostname (default: system hostname)

# NAS Configuration
NAS_IP=                         # NAS IP address
NAS_SHARE=                      # NFS share path
NAS_MOUNT_PATH=/mnt/nas         # Local mount point
NAS_MOUNT_OPTIONS="rw,sync,hard,intr,rsize=32768,wsize=32768,noatime"
NAS_TIMEOUT=30                  # Mount timeout (seconds)

# Performance Settings
KOPIA_PARALLEL_CLIENT=4         # Client parallel operations
KOPIA_PARALLEL_SERVER=2         # Server parallel operations
KOPIA_CACHE_SIZE=5G            # Cache size
KOPIA_UPLOAD_LIMIT=0           # Upload speed limit (bytes/s, 0=unlimited)
KOPIA_DOWNLOAD_LIMIT=0         # Download speed limit (bytes/s, 0=unlimited)

# Resource Limits
KOPIA_CLIENT_CPU_LIMIT=4       # Client CPU cores limit
KOPIA_CLIENT_MEM_LIMIT=4G      # Client memory limit
KOPIA_SERVER_CPU_LIMIT=2       # Server CPU cores limit
KOPIA_SERVER_MEM_LIMIT=2G      # Server memory limit

# Backup Configuration
BACKUP_COMPRESSION=zstd-fastest # Compression (zstd-fastest|zstd-default|zstd-max)
BACKUP_VERIFY=true             # Verify after backup
BACKUP_RETENTION_DAYS=7        # Local backup retention period

# Schedule Settings
SERVER_SYNC_TIME="0 5 * * *"   # Server sync schedule (cron format)
CLIENT_BACKUP_TIME="0 2 * * *" # Client backup schedule (cron format)

# Logging
LOG_LEVEL=info                 # Logging level (debug|info|warn|error)
LOG_MAX_SIZE=100M             # Max log file size
LOG_MAX_FILES=7               # Number of log files to keep
TZ=UTC                       # Timezone

# Volume Configuration (JSON)
DOCKER_VOLUMES='{
    "/path/to/data": {
        "name": "app-data",
        "tags": ["type:data", "app:myapp"],
        "compression": "zstd-fastest",
        "exclude": ["*.tmp", "*.log"],
        "priority": 1
    },
    "/path/to/config": {
        "name": "app-config",
        "tags": ["type:config", "app:myapp"],
        "compression": "zstd-max",
        "priority": 2
    }
}'
